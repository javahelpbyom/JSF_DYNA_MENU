<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html">
    <h:form id="navigation">
    <div id="navigation">
    	<ul>
    		<ui:repeat var="parentMenuItem" value="#{menuBean.menuList}" varStatus="status">
    			<h:panelGroup rendered="#{parentMenuItem.isHasChildren != true}">
    				<li>
    					<h:commandLink value="#{parentMenuItem.label}"  action="#{menuBean.triggerAction}">
    						<f:setPropertyActionListener target="#{menuBean.beanAction}" value="#{parentMenuItem.beanName}" />
    						<f:setPropertyActionListener target="#{menuBean.beanMethod}" value="#{parentMenuItem.actionMethod}" />
    					</h:commandLink>
    				</li>
    			</h:panelGroup>
    			<h:panelGroup rendered="#{parentMenuItem.isHasChildren}">
    				<li><a href="#">#{parentMenuItem.label}</a>
	    				<ul>
			    			<ui:repeat var="childMenuItem" value="#{parentMenuItem.childList}" varStatus="childStatus">
					    		<li>
					    			<h:commandLink value="#{childMenuItem.label}" action="#{menuBean.triggerAction}">
					    				<f:setPropertyActionListener target="#{menuBean.beanAction}" value="#{childMenuItem.beanName}" />
    									<f:setPropertyActionListener target="#{menuBean.beanMethod}" value="#{childMenuItem.actionMethod}"/>
					    			</h:commandLink>
					    		</li>
				    		</ui:repeat>
			    		</ul>
		    		</li>
	    		</h:panelGroup>
    		</ui:repeat>
    	</ul>
    </div>
    </h:form>
    
</ui:composition>